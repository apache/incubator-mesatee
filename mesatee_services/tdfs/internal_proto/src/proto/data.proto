syntax = "proto2";
import "kms.proto";
import "data_common.proto";
package data_proto;

message SaveDataRequest {
  required string data_id = 1;
  required data_common.DataMeta meta = 2;
}

message SaveDataResponse {
  required bool success = 1;
}

message ReadDataRequest {
  required string data_id = 1; 
}

message ReadDataResponse {
  required string data_id = 1; 
  repeated string owners = 2; // SharedOutput will have muliple owners
  optional data_common.DataMeta meta = 3; // Output data doesn't have meta
  required data_common.DataStorageInfo storage_info = 4; // SharedOutput have internal storage info 
}


service TDFSInternal {
  rpc ReadData(ReadDataRequest) returns (ReadDataResponse);
  rpc SaveData(SaveDataRequest) returns (SaveDataResponse);
}