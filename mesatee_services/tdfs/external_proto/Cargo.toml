[package]
name = "tdfs_external_proto_wip"
version = "0.1.0"
authors = ["MesaTEE Authors <developers@mesatee.org>"]
description = "RPC protocol between TDFS and untrusted clients."
license = "Apache-2.0"
edition = "2018"

[features]
default = []
mesalock_sgx = ["sgx_tstd", "kms_proto/mesalock_sgx", "authentication_proto/mesalock_sgx", "tdfs_common_proto/mesalock_sgx", "mesatee_core/mesalock_sgx"]
cov = ["sgx_cov"]

[dependencies]
prost = { version = "0.5.0" }
bytes = { version = ">= 0.4.12"} # unix app depends on 0.4.12, while sgx lib depends on 0.5.0
prost-types = { version = "0.5.0" }
cfg-if       = { version = "0.1.9" }
serde        = { version = "1.0.39" }
serde_json   = { version = "1.0.39" }
serde_derive = { version = "1.0.92" }
kms_proto    = { path = "../../kms/proto"}
authentication_proto = { path = "../../common/authentication"}
tdfs_common_proto = { path = "../common_proto"}
mesatee_core = { version = "0.1.0" }
sgx_cov      = { version = "0.1.0", optional = true }
sgx_tstd     = { version = "1.0.9", features = ["net", "backtrace"], optional = true }
sgx_types    = { version = "1.0.9" }

[build-dependencies]
prost-build = { version = "0.5.0" }